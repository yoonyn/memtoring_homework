<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>JavaScript_cal</title>
<style type="text/css">

table {
    border-collapse: collapse;
}
td {
	width: 10px;
    padding: 5px 10px;
    text-align: center;
}

td:hover {
    background-color: lightgray;
}

input {
    text-align: right;
    border: none;
}
input:focus {
    outline: none;
}
input[type="text"]#result
{
    width: 170px;
    font-size:24px;
}

</style> 
</head>


<body>

</body>

<script>
var content = document.createElement("DIV");  
content.innerHTML = "<p>createElement</p>";   
content.className = "content";
// class="content" align="center"
document.body.appendChild(content);
content.setAttribute("id", "content");
document.getElementById("content").setAttribute("align", "center");

var table = document.createElement("TABLE");  
table.innerHTML = "<tr>"+
	"<td colspan='4'>"+
	"<input type='text' id='display'>"+
	"</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td colspan='4' height='50px'>"+
	"    <input type='text' id='result'>"+
	"</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td>%</td>"+
	"<td onclick='reset()'>CE</td>"+
	"<td onclick='reset()'>C</td>"+
	"<td onclick='delete()'>←</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td onclick='point()'>1/x</td>"+
	"<td onclick='square()'>x2</td>"+
	"<td onclick='sqrt()'>√</td>"+
	"<td id = '/' >÷</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td onclick='add(7)'>7</td>"+
	"<td onclick='add(8)'>8</td>"+
	"<td onclick='add(9)'>9</td>"+
	"<td id = '*'>X</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td onclick='add(4)'>4</td>"+
	"<td onclick='add(5)'>5</td>"+
	"<td onclick='add(6)'>6</td>"+
	"<td id='-'>-</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td onclick='add(1)'>1</td>"+
	"<td onclick='add(2)'>2</td>"+
	"<td onclick='add(3)'>3</td>"+
	"<td id='+'>+</td>"+
	"</tr>"+
	
	"<tr>"+
	"<td onclick='swap()'>+/-</td>"+
	"<td onclick='add(0)'>0</td>"+
	"<td id='.'>.</td>"+
	"<td onclick='calculate()'>=</td>"+
	"</tr>"
	;

document.getElementById("content").appendChild(table);

document.getElementById(".").setAttribute("onclick", "add('.')");
document.getElementById("+").setAttribute("onclick", "add('+')");
document.getElementById("-").setAttribute("onclick", "add('-')");
document.getElementById("*").setAttribute("onclick", "add('*')");
document.getElementById("/").setAttribute("onclick", "add('/')");

</script>

<script>
        
        var numberClicked = false; // 전역 변수로 numberClicked를 설정
        function add (char) {
            if(numberClicked == false) { // 만약 이전에 연산자를 입력 했는데,
                if(isNaN(char) == true) { // 입력 받은 값이 또 다시 연산자면,
                    // 아무것도 하지 않는다.
                } else { // 연산자가 아니라면!
                    document.getElementById('display').value += char; // 식 뒤에 값을 추가한다.
                }
            } else { // 만약에 이전에 숫자를 입력 했으면,
                document.getElementById('display').value += char; // 식 뒤에 값을 추가한다.
            }
     
     
            // 다음 입력을 위해 이번 입력에 숫자가 눌렸는지 연산자가 눌렸는지 설정한다.
            if(isNaN(char) == true) { // "만약 숫자가 아닌게 참이라면" = "연산자를 눌렀다면"
                numberClicked = false; // numberClicked를 false로 설정한다.
            } else {
                numberClicked = true; // numberClicked를 true로 설정한다.
            }
        }
        
        function calcal(result){
        	var display = document.getElementById('display');
        	document.getElementById('result').value = result;
        }
   
        function square(){// 제곱
      		var result = Math.pow(display.value,2);
      	  	calcal(result);
          }

          function swap(){// output의 +-를 바꿔줌(반전)
        	var result = -display.value;
        	calcal(result);
          }

          function sqrt() {// output의 데이터를 루트.
        	  var result = Math.sqrt(display.value);
        	  calcal(result);
          }

          function point(){// 1/x계산
        	var result = eval("1/"+display.value);
        	calcal(result);
          }
    
        function calculate() {
            var result = eval(display.value); // 식을 계산하고 result 변수에 저장합니다.
            calcal(result);
        }
        function reset() {
            document.getElementById('display').value = "";
            document.getElementById('result').value = "";
        }
    </script>

</html>